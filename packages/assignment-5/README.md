# React를 직접 구현해보자

## 시도해볼 것

## Basic 목표

각각의 컴포넌트에 모든 비즈니스 로직이 작성되어 있습니다. 여기에서 custom hook과 util 함수를 적절하게 분리하고, **테스트 코드를 통과할 수 있도록 해주세요.**

## (1) 요구사항

### 1) 장바구니 페이지 요구사항

- 상품 목록
  - 상품명, 가격, 재고 수량 등을 표시
  - 각 상품의 할인 정보 표시
  - 재고가 없는 경우 품절 표시가 되며 장바구니 추가가 불가능
- 장바구니
  - 장바구니 내 상품 수량 조절 가능
  - 각 상품의 이름, 가격, 수량과 적용된 할인율을 표시
    - 적용된 할인율 표시 (예: "10% 할인 적용")
  - 장바구니 내 모든 상품의 총액을 계산해야
- 쿠폰 할인
  - 할인 쿠폰을 선택하면 적용하면 최종 결제 금액에 할인정보가 반영
- 주문요약
  - 할인 전 총 금액
  - 총 할인 금액
  - 최종 결제 금액

### 2) 관리자 페이지 요구사항

- 상품 관리
  - 상품 정보 (상품명, 가격, 재고, 할인율) 수정 가능
  - 새로운 상품 추가 가능
  - 상품 제거 가능
- 할인 관리
  - 상품별 할인 정보 추가/수정/삭제 가능
  - 할인 조건 설정 (구매 수량에 따른 할인율)
- 쿠폰 관리
  - 전체 상품에 적용 가능한 쿠폰 생성
  - 쿠폰 정보 입력 (이름, 코드, 할인 유형, 할인 값)
  - 할인 유형은 금액 또는 비율로 설정 가능

## (2) 코드 개선 요구사항

### 1) hook 작성

- useCart
- useCoupon
- useProduct

### 2) cart에 대한 유틸 함수 작성

- calculateItemTotal
- getMaxApplicableDiscount
- calculateCartTotal
- updateCartItemQuantity

## Advanced 목표

**이번 심화과제는 직접 컴포넌트, 커스텀훅, 유틸함수를 리팩토링 하고 이를 기반으로 테스트 코드를 작성하는 것입니다.**

- 테스트 코드는 `packages/assignment-5/src/advanced/__tests__/advanced.test.tsx` 에 작성해주세요.
- 새로운(리팩토링 하는) 코드는 `packages/assignment-5/src/refactoring` 에 추가해주세요.
- 작성 후 테스트 코드 실행 했을 때의 예시입니다. 스스로 테스트 코드를 작성하고 검증해보세요.

## (1) 과제 평가 기준

아래의 평가 기준은 최소한의 가이드라인입니다. 스스로의 학습을 위해 더 깊게 고민해보시면 좋습니다.

1. advanced.test.ts에 있는 시나리오 테스트를 모두 통과한다.
2. 3개 이상의 custom hook을 통해서 리팩토링을 진행했고, 해당 hook에 대한 테스트 코드가 작성되었다.
3. 3개 이상의 순수함수를 통해서 리팩토링을 진행했고, 해당 함수에 대한 테스트 코드가 작성되었다.

## (2) 이런 부분을 추가 및 개선해주세요.

**적어도 시나리오 테스트는 모두 통과해야합니다.**

- [ ] 재활용할 수 있는 컴포넌트 만들기
- [ ] custom hook 추출하기
- [ ] 순수 함수 추출하기
- [ ] **새로 추가한 유틸함수와 커스텀훅에 대한 테스트 코드 추가하기**

## (3) 코드를 개선한 다음에 다음 체크포인트에 대해 스스로 생각해보세요.

- 단일 책임 원칙 (Single Responsibility Principle)
  - [ ] 함수/훅이 하나의 명확한 목적만을 가지고 있는가?
  - [ ] 함수/훅의 이름이 그 목적을 명확하게 나타내는가?
- 순수 함수 (Pure Functions)
  - [ ] 동일한 입력에 대해 항상 동일한 출력을 반환하는가?
  - [ ] 외부 상태를 변경하지 않는가?
  - [ ] 입력 데이터를 직접 수정하지 않고 새로운 데이터를 반환하는가?
- 합성 가능성 (Composability)
  - [ ] 함수/훅을 다른 함수/훅과 쉽게 조합할 수 있는가?
- 관심사 분리 (Separation of Concerns)
  - [ ] 비즈니스 로직과 UI 로직이 적절히 분리되어 있는가?
- DRY (Don't Repeat Yourself) 원칙
  - [ ] 이 함수/훅이 중복 코드를 제거하는 데 도움이 되는가?
- 테스트 용이성 (Testability)
  - [ ] 함수/훅에 대한 단위 테스트를 쉽게 작성할 수 있는가?
        (input에 대한 output을 정의하기 수월한가)
- 에러 처리 (Error Handling)
  - [ ] 예상 가능한 에러 상황을 적절히 처리하고 있는가?

위의 체크포인트는 PR에 남겨서 자체평가 부탁드립니다.

## (4) hook, function을 만들 때 고민해보면 좋은 것.

아래의 요구사항이 추가된다고 **가정**해보세요

1. start:advanced로 실행하면 초기 데이터를 localStorage에서 불러오고, 추가하고, 수정하고, 삭제할 수 있다.
2. start:api-mock로 실행하면 초기 데이터를 API를 통해서 불러오고, 추가하고, 수정하고, 삭제할 수 있다.
   - API는 [msw](https://mswjs.io/)로 만든다.
3. 회원 등급별 할인 기능
   - 관리자는 회원 등급을 추가할 수 있다.
   - 회원 등급에 따른 할인율이 존재한다.
     - 예시) 일반: 3%, 실버: 5%, 골드: 7%, VIP: 10%,
   - 장바구니 페이지에서 현재 회원 등급을 임의로 선택할 수 있다.
   - 회원 등급에 따라 총 구매 가격에 할인율이 적용되어야 한다.

이 외에도 다양한 요구사항이 추가될 수 있습니다. 여러분이 작성한 코드는 요구사항에 잘 대응할 수 있는 코드인지 자체적으로 점검해보시면 내가 작성한 코드가 좋은 코드인지 판단해볼 수 있습니다.
